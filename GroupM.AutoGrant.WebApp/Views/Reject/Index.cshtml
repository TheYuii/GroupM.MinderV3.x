
@{
    ViewBag.Title = "Reject";
    Layout = "~/Views/Shared/AutoGrant_Layout.cshtml";
}

@using (Html.BeginForm("Index", "Reject", FormMethod.Post))
{
    <div align="center">
        <input type="hidden" id="Token" name="Token" value="@(ViewBag.Token)">
        <input type="hidden" id="RequestNo" name="RequestNo" value="@(ViewBag.RequestNo)">
        <input type="hidden" id="ApproverID" name="ApproverID" value="@(ViewBag.ApproverID)">
        <input type="hidden" id="ApproverUserID" name="ApproverUserID" value="@(ViewBag.ApproverUserID)">
        <input type="hidden" id="DelegateUserID" name="DelegateUserID" value="@(ViewBag.DelegateUserID)">
        <input type="hidden" id="btnCheck" name="btnCheck" value="">
        <h2>Input reason for rejecting this request..</h2>
        <table>
            <tr>
                <td>
                    @Html.TextArea("Reason", new { style = "width: 300px; height: 60px;" })
                </td>
            </tr>
            <tr></tr>
            <tr></tr>
            <tr></tr>
            <tr>
                <td align="right">
                    <input type="submit" id="btnSubmit" value="✓  SUBMIT" style="background-color: mediumseagreen; color: white; border: none; padding: 5px 8px; display: inline-block" onclick="fCheck()" />
                    <input type="submit" id="btnCancel" value="✗  CANCEL" style="background-color: crimson; color: white; border: none; padding: 5px 8px; display: inline-block" onclick="fCancel()" />
                </td>
            </tr>
        </table>
        <script type="text/javascript">
            function fCheck() {
                var rs = document.getElementById("Reason").value;
                if (rs == "") {
                    document.getElementById("btnCheck").value = "X";
                    alert("Please input your reason.");
                }
                else {
                    document.getElementById("btnCheck").value = "Submit";
                }
            }
            function fCancel() {
                document.getElementById("btnCheck").value = "Cancel";
            }
            window.onload = function () {
                var msg = "@ViewBag.Message";
                if (msg != "") {
                    alert(msg);
                }
            };
        </script>
    </div>
}
